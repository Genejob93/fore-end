[TOC]

# 0.0 项目练习

# 1.0 搭建Vue项目

## 1.1 脚手架二搭建Vue项目

> 1. **脚手架二搭建命令**
>
> ```js
> 1. // 通过脚手架2 下载对应的webpack 项目(eslint)
> 	vue init webpack gshop
>   
> 2. // 干掉 src 中所有内容 (main.js, App.vue) 保留
> 
> 3.// 创建对应的目录 (整个项目都会用到的目录)
> 
> 4. // 下载对应的插件 vue-router, stylus, stylus-loader, swiper, axios
> 
> 5.// 拆分组件, 搭建界面, 搭建路由, 实现页面展示
> 
> 6.// 安装路由
> 	npm install vue-router
> 
> 7. 安装 stylus stylus-loader 插件
> 	npm install stylus stylus-loader
> 
> ```
>
> 2. **Vue 路由配置**
>
>    - **安装 vue 路由插件  `npm install vue-router`** 
>    - **在router的目录中, 一般创建两个文件**
>
>    ```js
>    	index.js  // 引入路由的具体配置文件(router.js),然后把index.js 引入到 main.js 文件中
>    
>    	router.js  // 具体配置路由的配置文件
>    ```
>
>    - **在 index.js 中**
>
>      ```js
>        >1. 引入 vue
>        >2. 引入 vue-router
>        >3. 声明使用 VueRouter
>        >4. 配置路由 (向外暴露一个对象,最终把它扔到 main.js中,注册路由路径)
>          export default new VueRouter({
>            mode:"history", // 地址中不出现 #号
>            route
>          })
>      ```
>
>    - **在 routes.js中**
>
>      ```js
>        // 引入对应的路由组件
>        // 引入外卖的路由组件
>        import MSite from '../pages/MSite/MSite.vue'
>        // 引入搜索的路由组件
>        import Search from '../pages/Search/Search.vue'
>        // 引入 订单的路由组件
>        import Order from '../pages/Order/Order.vue'
>        // 引入我的路由组件
>        import Profile from '../pages/Profile/Profile.vue'
>        
>        // 配置路由详细信息(向外默认暴露一个数组)
>        export default [
>          {
>            path: '/msite', // 这里一定要加一个空格,否则会报错
>            components: MSite
>          }
>        ]
>      ```
>
> 3. **配置完成后在 main.js 中引入路由器**
>
>    ```js
>       1. // 引入路由器
>    	import router from './router/index.js'
>    
>       2. // 在 Vue 的实例对象中注册该路由器
>    	new Vue({
>        el: '#app',
>        components: { App },
>        template: '<App/>',
>        router    // 注册路由器
>    	})
>    ```
>
> 4. **最后在 App.vue 组件中, 需要显示 子组件的地方, 配置,渲染显示子组件**  ` <router-view></router-view>` 

## 1.2 脚手架三搭建Vue项目

> ==脚手架三创建项目命令== 
>
> ```js
> 1. // 运行命令创建一个新项目
> 	vue create hello-world
> 
> 2. // 脚手架启动项目命令
> 	npm run serve
> ```

> **关于旧版本**
>
> Vue CLI 的包名由 `vue-cli` 改成了 `@vue/cli` . 如果已经全局安装了旧版本的  `vue-cli` (1.x或 2.x), 需要先通过 `npm uninstall vue-cli -g ` 或 `yarn global remove vue-cli`  卸载

> **脚手架二换脚手架三** 
>
> ```js
> 1. // 卸载全局安装过的脚手架二
> 	npm uninstall vue-cli -g
> 
> 2. // 执行完命令之后,执行如下命令
>    vue -V   // 如果报错, 证明就已经完全卸载完成脚手架二
> 
> 3. // 安装脚手架三版本
> 	 npm install -g @vue/cli
> 	 vue -V    // 查看版本
> 
> ```

> **如果安装脚手架三, 仍还想用脚手架二的一些功能. 可以按照如下处理兼容性问题.** 
>
> Vue CLI >=3 和旧版本使用了相同的 `vue`命令, 所以 VUE CLI 2(`vue-cli`) 被覆盖了. 如果你仍然想要使用旧版本的 `vue init` 功能, 你可以安装一个桥接工具:
>
> 脚手架三兼容创建项目命令
>
> ```js
> 1. // 执行以下命令, 可以实现脚手架二和三的兼容 
> npm install -g @vue/cli-init
> 	
> // vue init 的运行结果将会跟 vue-cli@2.x 相同
> // 可以使用脚手架二的命令
> vue init webpack my-project
> ```

> ==脚手架三创建项目命令== 
>
> ```js
> 1. // 运行命令创建一个新项目
> 	vue create hello-world
> 
> 2. // 脚手架启动项目命令
> 	npm run serve
> ```

> **如何把脚手架二的项目移植到脚手架三中**
>
> 1. 把 index.html 文件放到 public 目录中
> 2. 把 静态资源中的css 文件也放到 public目录中. (修改用到里面样式的路径)
> 3. 删掉 脚手架三 src 目录里所有内容. 把原项目脚手架二 src 下面所有的内容放进去

```js
# 项目转移成功后, 下载响应的依赖包
#Summary 脚手架3的东西
1. vue create 项目名   --- 下载项目
2. npm run build  打包
3. serve dist         --- 运行打包

4. 如何把脚手架2 的东西放在脚手架3中 ?
  	>1. 脚手架2中的 index.html  --- 放在 脚手架3中的public目录中
		>2. 脚手架2中的static目录中的 cs 目录放在脚手架3中的public目录(别忘记修改 index.html中引入文件的路径)
		>3. 脚手架2中的src目录中的所有内容 复制到 脚手架3中的src目录中
    >4. 在脚手架3中安装相关的包
    	npm install stylus stylus-loader vue-router swiper axios vuex
      
5. 脚手架3 中启动项目
	npm run serve  / yarn serve
```

> **出现的问题** 
>
> **移动项目到脚手架3后,项目打开显示空白页面,没有显示项目资源的问题**
>
> ```js
> 1. //脚手架2 或者脚手架3中依赖的包都是使用的是vue.runtime.esm.js文件
> 
> 2. //但是在脚手架2中的build目录中的 webpack.base.conf.js文件中重新的配置了访问vue文件的路径的文件(vue.esm.js) 这个文件
> 
> 3. //脚手架3中没有配置过 vue.esm.js文件,那么此时如果使用vue了. (import Vue from 'vue') 默认就去找 vue.runtime.esm.js 
> ```
>
> **解决问题**
>
> 1. 在项目的根目录下创建一个 `vue.config.js`  文件, 并添加如下配置
>
> ```js
> const path = require('path')
> 
> function resolve(dir) {
>   // return path.join(__dirname, '..', dir)
>   return path.join(__dirname, dir)
> }
> // vue.config.js
> module.exports = {
>   configureWebpack: {
>     resolve: {
>       extensions: ['.js', '.vue', '.json'],
>       alias: {
>         'vue$': 'vue/dist/vue.esm.js',
>         '@': resolve('src'),
>       }
>     },
>   },
>   // 配置跨域的问题 
>   devServer: {
>     proxy: {
>       '/api': {
>         target: 'http://localhost:5000', // 目录地址
>         changeOrigin: true, //是否跨域
>         pathRewrite: {
>           '^/api': '', // rewrite path
> 
>         },
>       }
>     }
>   }
> }
> ```

> **在package.json中配置自动打开浏览器**
>
> ```js
> "serve": "vue-cli-service serve --open",  // 最后添加上了 --open
> ```

## 2.1 实现移动端适配

> **淘宝方案实现适配** 
>
> [该解决方案参考解释网址](https://www.cnblogs.com/lml2017/p/9953429.html)   
>
> 1. **安装依赖**
>
>    ```
>    npm install lib-flexible --save
>    
>    npm install postcss-px2rem --save
>    ```
>
> 2.  **在入口文件 main.js中 进行引入**
>
>    ```js
>    import 'lib-flexible/flexible.js'
>    ```
>
> 3. **在 vue.config.js 文件中添加配置** 
>
>    ```js
>    module.exports = {
>        css: {
>            loaderOptions: {
>              css: {},
>              postcss: {
>                plugins: [
>                  require('postcss-px2rem')({
>                    remUnit: 75 // 根据设计稿和等分比例设置
>                  })
>                ]
>              }
>            }
>        },
>    }
>    ```
>
>    重新启动项目即可完成

## 3.0 配置路由器和路由

> 1. 在 src 目录下的 **pages 目录下**创建各个路由组件
>
>    ```js
>    Home 组件
>    Sort 组件
>    ShiWu 组件
>    Cart 组件
>    Personal 组件
>    ```
>
> 2. 在 src 目录下创建一个 **router 目录** 用来配置路由
>
>    - 在 router目录中创建一个  **routes.js** 文件, 分别引入各 路由组件 
>
>      ```js
>      // 具体详细配置路由的文件
>      import Home from '../pages/Home/Home.vue'
>      import Sort from '../pages/Sort/Sort.vue'
>      import ShiWu from '../pages/ShiWu/ShiWu.vue'
>      import Cart from '../pages/Cart/Cart.vue'
>      import Personal from '../pages/Personal/Personal.vue'
>      export default [{
>          path: '/home',
>          component: Home
>        },
>        {
>          path: '/sort',
>          component: Sort
>        },
>        {
>          path: '/shiwu',
>          component: ShiWu
>        },
>        {
>          path: '/cart',
>          component: Cart
>        },
>        {
>          path: '/personal',
>          component: Personal
>        },
>        {
>          path: '/',
>          redirect: '/home'
>        }
>      ]
>      ```
>
>    - 在 router 目录下 创建一个 **index.js** 文件 
>
>      ```js
>      // 引入 Vue
>      import Vue from 'vue'
>      // 引入 Vue-router
>      import VueRouter from 'vue-router'
>      // 引入路由
>      import routes from './routes'
>      
>      // 声明使用VueRouter
>      Vue.use(VueRouter)
>      // 暴露路由器, 并配置路由
>      export default new VueRouter({
>        mode: 'history', // 地址中不出现 #号
>        routes
>      })
>      ```
>
> 3.  在 **main.js 入口文件**中引入路由器  
>
>    ```js
>    // 引入 Vue
>    import Vue from 'vue'
>    // 引入 App 
>    import App from './App.vue'
>    // 引入路由器
>    import router from './router'
>    
>    Vue.config.productionTip = false
>    // 实例化一个 Vue
>    new Vue({
>      router, // 注册路由器
>      render: h => h(App),
>      
>    }).$mount('#app')
>    
>    ```





































































